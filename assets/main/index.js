System.register("chunks:///_virtual/AudioControl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GlobalData.ts","./GameFacade.ts","./Constants.ts"],(function(t){var e,i,a,n,o,r,l,s,u,c,f,b,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,a=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,l=t.AudioSource,s=t.AudioClip,u=t.sys,c=t.Component},function(t){f=t.globalData},function(t){b=t.GameFacadeInstance},function(t){p=t.Constants}],execute:function(){var d,E,h,_,m,y,g,A,M;o._RF.push({},"7f8dcfM2xBMkKbZ7VqGVQZ1","AudioControl",void 0);var v=r.ccclass,C=r.property,I={start:0,rollstart:1,rollstop:2,bigreward:3,normalreward:4},w="SuperFruit_AudioMusic",S="SuperFruit_AudioEffect";t("AudioControl",(d=v("AudioControl"),E=C(l),h=C(l),_=C(s),d((g=e((y=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,a(e,"audioMusic",g,n(e)),a(e,"audioEffect",A,n(e)),a(e,"audioClips",M,n(e)),e._musicEnable=!0,e._effectEnable=!0,e}i(e,t);var o=e.prototype;return o.start=function(){var t=u.localStorage.getItem(w);t&&(this._musicEnable=1==t);var e=u.localStorage.getItem(S);e&&(this._effectEnable=1==e),this._musicEnable&&this.audioMusic.play(),f.wEffctEnable=this._effectEnable,f.wMusicEnable=this._musicEnable,b.registerMediator(this)},o.update=function(t){},o.onDestroy=function(){b.removeMediator(this.name)},o.listNotificationInterests=function(){return[{evtType:p.GMAENOTIFICATION_ID.SETAUDIOENABLE,callback:this.setAudioEnable}]},o.playEffect=function(t){if(this._effectEnable){var e=this.audioClips[I[t]];e&&this.audioEffect.playOneShot(e)}},o.setAudioEnable=function(t,e){t!=this._musicEnable&&(this._musicEnable=t,this._musicEnable?this.audioMusic.play():this.audioMusic.stop(),u.localStorage.setItem(w,this._musicEnable?1:0),f.wMusicEnable=this._musicEnable),e!=this._effectEnable&&(this._effectEnable=e,u.localStorage.setItem(S,this._effectEnable?1:0),f.wEffctEnable=this._effectEnable)},e}(c)).prototype,"audioMusic",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(y.prototype,"audioEffect",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(y.prototype,"audioClips",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=y))||m));o._RF.pop()}}}));

System.register("chunks:///_virtual/Constants.ts",["cc"],(function(E){var _;return{setters:[function(E){_=E.cclegacy}],execute:function(){_._RF.push({},"ee76cOs2DZL66yqiRdu+lN5","Constants",void 0);var t=E("Constants",function(){function E(){}return E.FormatScore=function(E,_){if(_=_||2,(E/=this.SCORE_RATIO)==Math.floor(E))return E.toString();for(var t=1,A=1;A<=_;A++)if(E*(t*=10)==Math.floor(E*t))return E.toFixed(A).toString();return E.toFixed(_).toString()},E}());t.LEN_TOKEN=512,t.LEN_MACHINE_ID=33,t.LEN_LOGONFAILURE=128,t.GAMESERVER_ADDR="wss://dev.bigerwin.com:6900",t.GAME_ID=522,t.SERVER_ID=137,t.LEN_ACCOUNTS=32,t.LEN_PASSWORD=33,t.INVALID_TABLE=65535,t.INVALID_CHAIR=65535,t.MAX_LINE_COUNT=9,t.ITEM_X_COUNT=5,t.ITEM_Y_COUNT=3,t.SCORE_RATIO=100,t.MAX_BET_COUNT=8,t.ROLL_STATUS={RollNormall_Status:0,SlowDown_Status:1,Stop_Status:2},t.GAME_STATUS={GAME_SCENE_FREE:0,GAME_SCENE_WIAT:100,GAME_SCENE_PLAY:101},t.GMAENOTIFICATION_ID={GAME_LOGIN:1,GAME_ENTERGAMESCENE:2,GAME_GAMESCENE:3,GAME_GAMESTART:4,GAME_GAMECONCLUDE:5,GAME_SENDREWARDPOOL:6,FRUITROLLFINISH:20,CLOSEPOPUPVIEW:21,SETAUDIOENABLE:22},t.USER_STATUS={US_NULL:0,US_FREE:1,US_SIT:2,US_READY:3,US_LOOKON:4,US_PLAYING:5,US_OFFLINE:6},_._RF.pop()}}}));

System.register("chunks:///_virtual/debug-view-runtime-control.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,i,n,s,l,r,a,g,h,p,c,C,d,m,u,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,l=t._decorator,r=t.Node,a=t.Canvas,g=t.UITransform,h=t.instantiate,p=t.Label,c=t.Color,C=t.RichText,d=t.Toggle,m=t.Button,u=t.director,L=t.Component}],execute:function(){var f,M,b,v,T,S,x,E,I;s._RF.push({},"b2bd1+njXxJxaFY3ymm06WU","debug-view-runtime-control",void 0);var A=l.ccclass,y=l.property;t("DebugViewRuntimeControl",(f=A("internal.DebugViewRuntimeControl"),M=y(r),b=y(r),v=y(r),f((x=e((S=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return e=t.call.apply(t,[this].concat(s))||this,i(e,"compositeModeToggle",x,n(e)),i(e,"singleModeToggle",E,n(e)),i(e,"EnableAllCompositeModeButton",I,n(e)),e._single=0,e.strSingle=["No Single Debug","Vertex Color","Vertex Normal","Vertex Tangent","World Position","Vertex Mirror","Face Side","UV0","UV1","UV Lightmap","Project Depth","Linear Depth","Fragment Normal","Fragment Tangent","Fragment Binormal","Base Color","Diffuse Color","Specular Color","Transparency","Metallic","Roughness","Specular Intensity","IOR","Direct Diffuse","Direct Specular","Direct All","Env Diffuse","Env Specular","Env All","Emissive","Light Map","Shadow","AO","Fresnel","Direct Transmit Diffuse","Direct Transmit Specular","Env Transmit Diffuse","Env Transmit Specular","Transmit All","Direct Internal Specular","Env Internal Specular","Internal All","Fog"],e.strComposite=["Direct Diffuse","Direct Specular","Env Diffuse","Env Specular","Emissive","Light Map","Shadow","AO","Normal Map","Fog","Tone Mapping","Gamma Correction","Fresnel","Transmit Diffuse","Transmit Specular","Internal Specular","TT"],e.strMisc=["CSM Layer Coloration","Lighting With Albedo"],e.compositeModeToggleList=[],e.singleModeToggleList=[],e.miscModeToggleList=[],e.textComponentList=[],e.labelComponentList=[],e.textContentList=[],e.hideButtonLabel=void 0,e._currentColorIndex=0,e.strColor=["<color=#ffffff>","<color=#000000>","<color=#ff0000>","<color=#00ff00>","<color=#0000ff>"],e.color=[c.WHITE,c.BLACK,c.RED,c.GREEN,c.BLUE],e}o(e,t);var s=e.prototype;return s.start=function(){if(this.node.parent.getComponent(a)){var t=this.node.parent.getComponent(g),e=.5*t.width,o=.5*t.height,i=.1*e-e,n=o-.1*o,s=this.node.getChildByName("MiscMode"),l=h(s);l.parent=this.node,l.name="Buttons";var r=h(s);r.parent=this.node,r.name="Titles";for(var u=0;u<2;u++){var L=h(this.EnableAllCompositeModeButton.getChildByName("Label"));L.setPosition(i+(u>0?450:150),n,0),L.setScale(.75,.75,.75),L.parent=r;var f=L.getComponent(p);f.string=u?"----------Composite Mode----------":"----------Single Mode----------",f.color=c.WHITE,f.overflow=0,this.labelComponentList[this.labelComponentList.length]=f}n-=20;for(var M=0,b=0;b<this.strSingle.length;b++,M++){b===this.strSingle.length>>1&&(i+=200,M=0);var v=b?h(this.singleModeToggle):this.singleModeToggle;v.setPosition(i,n-20*M,0),v.setScale(.5,.5,.5),v.parent=this.singleModeToggle.parent;var T=v.getComponentInChildren(C);T.string=this.strSingle[b],this.textComponentList[this.textComponentList.length]=T,this.textContentList[this.textContentList.length]=T.string,v.on(d.EventType.TOGGLE,this.toggleSingleMode,this),this.singleModeToggleList[b]=v}i+=200,this.EnableAllCompositeModeButton.setPosition(i+15,n,0),this.EnableAllCompositeModeButton.setScale(.5,.5,.5),this.EnableAllCompositeModeButton.on(m.EventType.CLICK,this.enableAllCompositeMode,this),this.EnableAllCompositeModeButton.parent=l;var S=this.EnableAllCompositeModeButton.getComponentInChildren(p);this.labelComponentList[this.labelComponentList.length]=S;var x=h(this.EnableAllCompositeModeButton);x.setPosition(i+90,n,0),x.setScale(.5,.5,.5),x.on(m.EventType.CLICK,this.changeTextColor,this),x.parent=l,(S=x.getComponentInChildren(p)).string="TextColor",this.labelComponentList[this.labelComponentList.length]=S;var E=h(this.EnableAllCompositeModeButton);E.setPosition(i+200,n,0),E.setScale(.5,.5,.5),E.on(m.EventType.CLICK,this.hideUI,this),E.parent=this.node.parent,(S=E.getComponentInChildren(p)).string="Hide UI",this.labelComponentList[this.labelComponentList.length]=S,this.hideButtonLabel=S,n-=40;for(var I=0;I<this.strMisc.length;I++){var A=h(this.compositeModeToggle);A.setPosition(i,n-20*I,0),A.setScale(.5,.5,.5),A.parent=s;var y=A.getComponentInChildren(C);y.string=this.strMisc[I],this.textComponentList[this.textComponentList.length]=y,this.textContentList[this.textContentList.length]=y.string,A.getComponent(d).isChecked=!!I,A.on(d.EventType.TOGGLE,I?this.toggleLightingWithAlbedo:this.toggleCSMColoration,this),this.miscModeToggleList[I]=A}n-=150;for(var D=0;D<this.strComposite.length;D++){var B=D?h(this.compositeModeToggle):this.compositeModeToggle;B.setPosition(i,n-20*D,0),B.setScale(.5,.5,.5),B.parent=this.compositeModeToggle.parent;var w=B.getComponentInChildren(C);w.string=this.strComposite[D],this.textComponentList[this.textComponentList.length]=w,this.textContentList[this.textContentList.length]=w.string,B.on(d.EventType.TOGGLE,this.toggleCompositeMode,this),this.compositeModeToggleList[D]=B}}else console.error("debug-view-runtime-control should be child of Canvas")},s.isTextMatched=function(t,e){var o=new String(t),i=o.search(">");return-1===i?t===e:(o=(o=o.substr(i+1)).substr(0,o.search("<")))===e},s.toggleSingleMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strSingle.length;i++)this.isTextMatched(o.string,this.strSingle[i])&&(e.singleMode=i)},s.toggleCompositeMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strComposite.length;i++)this.isTextMatched(o.string,this.strComposite[i])&&e.enableCompositeMode(i,t.isChecked)},s.toggleLightingWithAlbedo=function(t){u.root.debugView.lightingWithAlbedo=t.isChecked},s.toggleCSMColoration=function(t){u.root.debugView.csmLayerColoration=t.isChecked},s.enableAllCompositeMode=function(t){var e=u.root.debugView;e.enableAllCompositeMode(!0);for(var o=0;o<this.compositeModeToggleList.length;o++){this.compositeModeToggleList[o].getComponent(d).isChecked=!0}var i=this.miscModeToggleList[0].getComponent(d);i.isChecked=!1,e.csmLayerColoration=!1,(i=this.miscModeToggleList[1].getComponent(d)).isChecked=!0,e.lightingWithAlbedo=!0},s.hideUI=function(t){var e=this.node.getChildByName("Titles"),o=!e.active;this.singleModeToggleList[0].parent.active=o,this.miscModeToggleList[0].parent.active=o,this.compositeModeToggleList[0].parent.active=o,this.EnableAllCompositeModeButton.parent.active=o,e.active=o,this.hideButtonLabel.string=o?"Hide UI":"Show UI"},s.changeTextColor=function(t){this._currentColorIndex++,this._currentColorIndex>=this.strColor.length&&(this._currentColorIndex=0);for(var e=0;e<this.textComponentList.length;e++)this.textComponentList[e].string=this.strColor[this._currentColorIndex]+this.textContentList[e]+"</color>";for(var o=0;o<this.labelComponentList.length;o++)this.labelComponentList[o].color=this.color[this._currentColorIndex]},s.onLoad=function(){},s.update=function(t){},e}(L)).prototype,"compositeModeToggle",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(S.prototype,"singleModeToggle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(S.prototype,"EnableAllCompositeModeButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=S))||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/FruitRollControl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./GameFacade.ts"],(function(t){var e,i,r,o,n,l,s,a,u,h,m,p,_,d,c,f,S;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.createForOfIteratorHelperLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){l=t.cclegacy,s=t._decorator,a=t.Node,u=t.CCInteger,h=t.SpriteAtlas,m=t.randomRange,p=t.Sprite,_=t.tween,d=t.Vec3,c=t.Component},function(t){f=t.Constants},function(t){S=t.GameFacadeInstance}],execute:function(){var y,g,L,v,C,R,F,I,b,A,T,w,D;l._RF.push({},"bfd3bF+EVtEt7+PlLbnrk5n","FruitRollControl",void 0);var N=s.ccclass,O=s.property,k=-140,x=140;t("FruitRollControl",(y=N("FruitRollControl"),g=O(a),L=O(u),v=O(u),C=O(u),R=O(h),y((b=e((I=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r))||this,o(e,"rollLayout",b,n(e)),o(e,"moveSpeed",A,n(e)),o(e,"speedDown",T,n(e)),o(e,"minSpeed",w,n(e)),o(e,"fruitSpriteAtlas",D,n(e)),e.m_fruitItemCount=8,e.m_readyEnd=!1,e.m_rollStatus=f.ROLL_STATUS.Stop_Status,e.m_rollSpeed=e.moveSpeed,e.m_checkIndex=0,e.m_resultData=[],e}i(e,t);var l=e.prototype;return l.start=function(){this.initFruit()},l.update=function(t){},l.onDestroy=function(){this.unschedule(this.updateRoll)},l.initFruit=function(){this.rollLayout.children.length>0&&this.rollLayout.destroyAllChildren(),this.m_readyEnd=!1,this.m_checkIndex=0,this.m_rollSpeed=this.moveSpeed;for(var t=0;t<this.m_fruitItemCount;t++){var e="im_fruit_"+Math.floor(m(0,11)),i=this.fruitSpriteAtlas.getSpriteFrame(e);if(i){var r=new a("fruit_"+t);r.addComponent(p).spriteFrame=i,r.setScale(.8,.8),this.rollLayout.addChild(r),r.setPosition(0,k+x*t)}}},l.updateRoll=function(){if(this.m_rollStatus!=f.ROLL_STATUS.Stop_Status){this.m_rollStatus==f.ROLL_STATUS.SlowDown_Status&&this.m_rollSpeed>this.minSpeed&&(this.m_rollSpeed-=this.speedDown,this.m_rollSpeed<this.minSpeed&&(this.m_rollSpeed=this.minSpeed));for(var t,e=r(this.rollLayout.children);!(t=e()).done;){var i=t.value,o=i.getPosition();o.y-=this.m_rollSpeed,i.setPosition(o)}var n=this.rollLayout.getChildByName("fruit_"+this.m_checkIndex);if(n){var l=n.getPosition();if(l.y<=-280){l.y=l.y+x*this.m_fruitItemCount,n.setPosition(l);var s="im_fruit_"+Math.floor(m(0,11)),a=this.fruitSpriteAtlas.getSpriteFrame(s);a&&(n.getComponent(p).spriteFrame=a),this.m_checkIndex+=1,this.m_checkIndex>=this.m_fruitItemCount&&(this.m_checkIndex=0),this.m_rollSpeed==this.minSpeed&&(0==this.m_checkIndex&&this.preLoadResult(),this.m_readyEnd&&this.m_checkIndex==this.m_fruitItemCount-3&&this.setRollStatus(f.ROLL_STATUS.Stop_Status))}}}},l.setRollStatus=function(t){if(!(t<f.ROLL_STATUS.RollNormall_Status||t>f.ROLL_STATUS.Stop_Status)&&this.m_rollStatus!=t)if(this.m_rollStatus=t,this.m_rollStatus==f.ROLL_STATUS.Stop_Status){this.unschedule(this.updateRoll);for(var e=0,i=this.m_checkIndex;i<this.m_fruitItemCount;i++){var r=this.rollLayout.getChildByName("fruit_"+i);r&&(r.setPosition(0,k+x*e++),_(r).by(.2,{position:new d(0,-5,0)}).by(.2,{position:new d(0,10,0)}).by(.2,{position:new d(0,-5,0)}).start())}this.rollLayout.getChildByName("fruit_0").setPosition(0,k+x*e),S.sendNotification(f.GMAENOTIFICATION_ID.FRUITROLLFINISH)}else t==f.ROLL_STATUS.RollNormall_Status&&(this.initFruit(),this.schedule(this.updateRoll,.02))},l.preLoadResult=function(){for(var t=0;t<this.m_resultData.length;t++){var e=this.fruitSpriteAtlas.getSpriteFrame("im_fruit_"+this.m_resultData[t]);if(e){var i=this.rollLayout.getChildByName("fruit_"+(this.m_fruitItemCount-1-t));i&&(i.getComponent(p).spriteFrame=e)}}this.m_readyEnd=!0},l.setResultData=function(t,e,i){this.m_resultData[0]=t,this.m_resultData[1]=e,this.m_resultData[2]=i},l.setShowState=function(t){for(var e,i=r(this.rollLayout.children);!(e=i()).done;){var o=e.value,n=o.getComponent(p).spriteFrame.name,l=null,s=null;(s=t?"im_fruit_gray_"+n.substring(n.length-1):"im_fruit_"+n.substring(n.length-1))&&s!=n&&(l=this.fruitSpriteAtlas.getSpriteFrame(s)),l&&(o.getComponent(p).spriteFrame=l)}},l.setRewardItem=function(t){var e;console.log("高亮水果：",t);var i=null==(e=this.rollLayout.getChildByName("fruit_"+(t+4)))?void 0:e.getComponent(p);if(i){var r=i.spriteFrame.name,o="im_fruit_"+r.substring(r.length-1);if(r!=o){var n=this.fruitSpriteAtlas.getSpriteFrame(o);n&&(i.spriteFrame=n)}}},e}(c)).prototype,"rollLayout",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(I.prototype,"moveSpeed",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 60}}),T=e(I.prototype,"speedDown",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),w=e(I.prototype,"minSpeed",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),D=e(I.prototype,"fruitSpriteAtlas",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=I))||F));l._RF.pop()}}}));

System.register("chunks:///_virtual/GameFacade.ts",["cc","./GameTableProxy.ts","./GameProxy.ts","./GameLoginCommand.ts","./Constants.ts"],(function(e){var t,a,n,i,c;return{setters:[function(e){t=e.cclegacy},function(e){a=e.gameTableProxy},function(e){n=e.gameProxy},function(e){i=e.GameLoginCommand},function(e){c=e.Constants}],execute:function(){t._RF.push({},"b9568HrURdLdIqTwHLWeO2J","GameFacade",void 0);var o=globalThis,r=o.puremvc.define({parent:o.puremvc.Facade,constructor:function(e){o.puremvc.Facade.call(this,e)}},{initializeModel:function(){o.puremvc.Facade.prototype.initializeModel.call(this)},initializeView:function(){o.puremvc.Facade.prototype.initializeView.call(this)},initializeController:function(){o.puremvc.Facade.prototype.initializeController.call(this)},startup:function(){this.registerCommand(c.GMAENOTIFICATION_ID.GAME_LOGIN,i),this.addProxy(new a),this.addProxy(new n),this.registerProxy()}},{getInstance:function(e){var t=o.puremvc.Facade.instanceMap,a=t[e];return a||((a=t[e]=new r(e)).startup(),a)},NAME:"GameFacade"});e("GameFacadeInstance",r.getInstance("GameFacade"));t._RF.pop()}}}));

System.register("chunks:///_virtual/GameLoginCommand.ts",["cc","./Constants.ts"],(function(e){var n,t;return{setters:[function(e){n=e.cclegacy},function(e){t=e.Constants}],execute:function(){n._RF.push({},"baf59inRn5JNrIqg9D6XDq6","GameLoginCommand",void 0);var a=globalThis;e("GameLoginCommand",a.puremvc.define({parent:a.puremvc.SimpleCommand},{execute:function(){console.log("登录游戏");var e=this.facade.retrieveProxy("GameProxy"),n=this.facade.retrieveProxy("GameTableProxy"),o=a.KBEngine.createApp();o.wssAddr=t.GAMESERVER_ADDR,e.registerNetInterface(o),n.registerNetInterface(o),n.sendLogonRoomData()}},{NAME:"GameLoginCommand"}));n._RF.pop()}}}));

System.register("chunks:///_virtual/GameProtocol.ts",["cc","./Constants.ts"],(function(e){var n,a;return{setters:[function(e){n=e.cclegacy},function(e){a=e.Constants}],execute:function(){n._RF.push({},"fa6e4NL0o9KmoVgkb9TT0BH","GameProtocol",void 0);var t=e("datatypes",{}),r=1200;t.CMD_S_GameStart={mainCmdID:r,subCmdID:100,argTypes:[{name:"cbItemInfo"},{name:"dLineScore"},{name:"cbItemType"},{name:"cbItemLineCount"},{name:"nGiveAwayCount"},{name:"nTotalGiveAwayCount"},{name:"cbFreeSpinState"},{name:"dUserTotalWinScore"},{name:"nPoolLineCount"},{name:"nPoolRewardScore"}],createFromStream:function(e,n){for(var t=[],r=0;r<a.ITEM_Y_COUNT;r++){t[r]=[];for(var o=0;o<a.ITEM_X_COUNT;o++){var i=e.readUint8();t[r].push(i)}}for(var m=[],u=0;u<a.MAX_LINE_COUNT;u++){var c=e.readUint64();m.push(c)}for(var d=[],s=0;s<a.MAX_LINE_COUNT;s++){var C=e.readUint8();d.push(C)}for(var _=[],I=0;I<a.MAX_LINE_COUNT;I++){var f=e.readUint8();_.push(f)}var D=e.readUint32(),p=e.readUint32(),U=e.readUint8(),v=e.readUint64(),T=e.readUint32(),S=e.readUint32();n.push(t,m,d,_,D,p,U,v,T,S)}},t.CMD_S_GameConclude={mainCmdID:r,subCmdID:101,argTypes:[],createFromStream:function(e,n){}},t.CMD_S_RewardPool={mainCmdID:r,subCmdID:107,argTypes:[{name:"PoolNum"}],createFromStream:function(e,n){var a=e.readUint32();n.push(a)}},t.CMD_S_Lottery={mainCmdID:r,subCmdID:102,argTypes:[{name:"dLotteryScore"}],createFromStream:function(e,n){var a=e.readUint64();n.push(a)}};t.CMD_C_GameStart={mainCmdID:r,subCmdID:100,argTypes:[{name:"cbLineCount"},{name:"cbBetIndex"}],write2bundle:function(e,n){e.writeUint8(n[0]),e.writeUint8(n[1])},size:function(){return 2}},t.CMD_C_GiveAwayStart={mainCmdID:r,subCmdID:101,argTypes:[],write2bundle:function(e,n){},size:function(){return 0}},t.CMD_C_GameConclude={mainCmdID:r,subCmdID:102,argTypes:[],write2bundle:function(e,n){},size:function(){return 0}},n._RF.pop()}}}));

System.register("chunks:///_virtual/GameProxy.ts",["cc","./GameProtocol.ts","./Constants.ts"],(function(e){var t,n,o;return{setters:[function(e){t=e.cclegacy},function(e){n=e.datatypes},function(e){o=e.Constants}],execute:function(){t._RF.push({},"c7a72jEr1FLiZ7/XLmhJDE0","GameProxy",void 0);var r=globalThis;e("gameProxy",r.puremvc.define({parent:r.puremvc.Proxy,constructor:function(){r.puremvc.Proxy.call(this,this.constructor.NAME)}},{onRegister:function(){},registerNetInterface:function(e){this.app=e;var t=e.net;this.net=t,t.registerServer(this,"onSubGameStart",n.CMD_S_GameStart),t.registerServer(this,"onSubGameConclude",n.CMD_S_GameConclude),t.registerServer(this,"onSubRewardPool",n.CMD_S_RewardPool),t.registerServer(this,"onSubGameLottery",n.CMD_S_Lottery),t.registerClient(this,"sendGiveAwayStart",n.CMD_C_GiveAwayStart),t.registerClient(this,"sendGameStart",n.CMD_C_GameStart),t.registerClient(this,"sendGameConclude",n.CMD_C_GameConclude)},onSubGameStart:function(e){console.log("onSubGameStart"),this.sendNotification(o.GMAENOTIFICATION_ID.GAME_GAMESTART,e)},onSubGameConclude:function(){console.log("onSubGameConclude"),this.sendNotification(o.GMAENOTIFICATION_ID.GAME_GAMECONCLUDE)},onSubRewardPool:function(e){console.log("onSubRewardPool",e),this.sendNotification(o.GMAENOTIFICATION_ID.GAME_SENDREWARDPOOL,e)},onSubGameLottery:function(e){console.log("onSubGameLottery",e)},requestSpin:function(e,t){this.app.socket&&(t?this.net.callServer("sendGiveAwayStart"):this.net.callServer("sendGameStart",o.MAX_LINE_COUNT,e))},requestGameConclude:function(){this.app.socket&&this.net.callServer("sendGameConclude")}},{NAME:"GameProxy"}));t._RF.pop()}}}));

System.register("chunks:///_virtual/GameScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FruitRollControl.ts","./Constants.ts","./GameFacade.ts","./GlobalData.ts","./RewardAniNode.ts","./AudioControl.ts"],(function(e){var t,o,i,n,r,s,l,a,u,c,h,p,d,S,_,m,f,b,y,N,w,T,g,x,C,I,v,A,R,U,F,E;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.createForOfIteratorHelperLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){s=e.cclegacy,l=e._decorator,a=e.Node,u=e.Label,c=e.Button,h=e.Prefab,p=e.Animation,d=e.input,S=e.Input,_=e.sys,m=e.find,f=e.Vec3,b=e.Tween,y=e.UITransform,N=e.Vec2,w=e.tween,T=e.instantiate,g=e.resources,x=e.SpriteAtlas,C=e.Sprite,I=e.Component},function(e){v=e.FruitRollControl},function(e){A=e.Constants},function(e){R=e.GameFacadeInstance},function(e){U=e.globalData},function(e){F=e.RewardAniNode},function(e){E=e.AudioControl}],execute:function(){var B,G,O,P,L,D,M,V,z,k,H,W,X,q,j,Y,J,K,Q,Z,$,ee,te,oe,ie,ne,re,se,le,ae,ue,ce,he,pe,de;s._RF.push({},"71e44jpmf1C9pyTtYBTT717","GameScene",void 0);var Se=l.ccclass,_e=l.property,me=[[{x:1,y:2},{x:2,y:2},{x:3,y:2},{x:4,y:2},{x:5,y:2}],[{x:1,y:3},{x:2,y:3},{x:3,y:3},{x:4,y:3},{x:5,y:3}],[{x:1,y:1},{x:2,y:1},{x:3,y:1},{x:4,y:1},{x:5,y:1}],[{x:1,y:3},{x:2,y:2},{x:3,y:1},{x:4,y:2},{x:5,y:3}],[{x:1,y:1},{x:2,y:2},{x:3,y:3},{x:4,y:2},{x:5,y:1}],[{x:1,y:3},{x:2,y:3},{x:3,y:2},{x:4,y:1},{x:5,y:1}],[{x:1,y:1},{x:2,y:1},{x:3,y:2},{x:4,y:3},{x:5,y:3}],[{x:1,y:2},{x:2,y:1},{x:3,y:2},{x:4,y:3},{x:5,y:2}],[{x:1,y:2},{x:2,y:3},{x:3,y:2},{x:4,y:1},{x:5,y:2}]];e("GameScene",(B=Se("GameScene"),G=_e(a),O=_e(a),P=_e(a),L=_e(u),D=_e(u),M=_e(a),V=_e(a),z=_e(a),k=_e(c),H=_e(c),W=_e(u),X=_e(a),q=_e(a),j=_e(h),Y=_e(h),J=_e(E),B((Z=t((Q=function(e){function t(){for(var t,o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i))||this,n(t,"rollNodes",Z,r(t)),n(t,"nodeLines",$,r(t)),n(t,"nodeUserInfo",ee,r(t)),n(t,"labWinScore",te,r(t)),n(t,"labRewardPool",oe,r(t)),n(t,"btnSpin",ie,r(t)),n(t,"btnFreeSpin",ne,r(t)),n(t,"nodeShowGetFreeNum",re,r(t)),n(t,"btnAddBet",se,r(t)),n(t,"btnDecBet",le,r(t)),n(t,"labBetScore",ae,r(t)),n(t,"nodeStartRod",ue,r(t)),n(t,"rewardAniNode",ce,r(t)),n(t,"helpView",he,r(t)),n(t,"setView",pe,r(t)),n(t,"audioControl",de,r(t)),t._popUpView=null,t._lineCount=[],t._rollNodeIndex=0,t._lineWinScore=[],t._itemType=[],t._itemInfo=[],t._getFreeNum=0,t._winScore=0,t._freeNum=0,t._poolRewardNum=0,t._poolNum=0,t._cellScore=0,t._betScore=[],t._betIndex=0,t._isSpin=!1,t._maxBetIndex=0,t._isAuto=!1,t._isHoldBtn=!1,t._gameProxy=null,t._gameTableProxy=null,t}o(t,e);var s=t.prototype;return s.start=function(){R.registerMediator(this),this._gameProxy=R.retrieveProxy("GameProxy"),this._gameTableProxy=R.retrieveProxy("GameTableProxy");var e=this.nodeStartRod.getComponent(p);e&&e.on(p.EventType.FINISHED,(function(){this.setRollNodesStatus(A.ROLL_STATUS.RollNormall_Status),this._gameProxy.requestSpin(this._betIndex,this._freeNum>0),this._freeNum>0&&(this._freeNum-=1,this.updateFreeNum())}),this),this.initUserInfo(),this.btnSpin.on(a.EventType.TOUCH_START,this.onBtnSpinTouch,this),this.btnSpin.on(a.EventType.TOUCH_END,this.onBtnSpinTouch,this),this.btnFreeSpin.on(a.EventType.TOUCH_START,this.onBtnSpinTouch,this),this.btnFreeSpin.on(a.EventType.TOUCH_END,this.onBtnSpinTouch,this),d.on(S.EventType.TOUCH_END,this.onTouchEnd,this),this._gameTableProxy.sendGameOption()},s.onLoad=function(){_.isMobile&&(m("Canvas/Camera").eulerAngles=new f(0,0,90))},s.update=function(e){},s.onDestroy=function(){R.removeMediator(this.name),b.stopAll(),d.off(S.EventType.TOUCH_END,this.onTouchEnd,this)},s.listNotificationInterests=function(){return[{evtType:A.GMAENOTIFICATION_ID.FRUITROLLFINISH,callback:this.rollFinishCallBack},{evtType:A.GMAENOTIFICATION_ID.CLOSEPOPUPVIEW,callback:this.closePopUpView},{evtType:A.GMAENOTIFICATION_ID.GAME_GAMESCENE,callback:this.onGameScene},{evtType:A.GMAENOTIFICATION_ID.GAME_GAMESTART,callback:this.onGameStart},{evtType:A.GMAENOTIFICATION_ID.GAME_GAMECONCLUDE,callback:this.onGameConclude},{evtType:A.GMAENOTIFICATION_ID.GAME_SENDREWARDPOOL,callback:this.onSendRewardPool}]},s.onTouchEnd=function(e){if(this._popUpView){var t=this._popUpView.getComponent(y).getBoundingBox(),o=e.getUILocation(),i=this.node.getComponent(y).convertToNodeSpaceAR(new f(o.x,o.y,0));t.contains(new N(i.x,i.y))||(this._popUpView.destroy(),this._popUpView=null)}},s.onBtnSpinTouch=function(e){var t=this;if(!this._isSpin||this._isAuto){var o=e.target;e.type==a.EventType.TOUCH_START?(this._isHoldBtn=!1,w(o).delay(1).call((function(){t._isHoldBtn=!0})).start()):e.type==a.EventType.TOUCH_END&&(b.stopAllByTarget(o),this._isAuto?(this._isAuto=!1,this.updateButtonState()):(this._isHoldBtn&&(this._isAuto=!0,this.updateButtonState()),this.onClickStart()))}},s.openPopUpView=function(e,t){if(!this._popUpView){var o=null;"HelpView"==t?o=T(this.helpView):"SetView"==t&&(o=T(this.setView)),o&&(this.node.addChild(o),o.setSiblingIndex(-1),this._popUpView=o)}},s.closePopUpView=function(){this._popUpView&&(this._popUpView.destroy(),this._popUpView=null)},s.onGameScene=function(e){this._betIndex=0,this._maxBetIndex=e.cbBetCount,this._cellScore=e.lCellScore,this._betScore=e.dBetScore,this.updateRewardPool(e.PoolNum),this.updateBetScore(),U.wGameStatus==A.GAME_STATUS.GAME_SCENE_PLAY&&(this.setRollNodesStatus(A.ROLL_STATUS.RollNormall_Status),this.onGameStart(e)),this._gameTableProxy.sendUserReady()},s.onGameStart=function(e){this._freeNum=e.nTotalGiveAwayCount,this._getFreeNum=e.nGiveAwayCount,this._winScore=e.dUserTotalWinScore,this._poolRewardNum=e.nPoolRewardScore,this._itemInfo=e.cbItemInfo,this._itemType=e.cbItemType,this._lineWinScore=e.dLineScore,this._lineCount=e.cbItemLineCount,console.log("onGameStart:",e),0!=e.cbFreeSpinState&&3!=e.cbFreeSpinState||(U.wUserScore+=e.dUserTotalWinScore+e.nPoolRewardScore);for(var t=0;t<A.ITEM_X_COUNT;t++)this.rollNodes[t].getComponent(v).setResultData(e.cbItemInfo[0][t],e.cbItemInfo[1][t],e.cbItemInfo[2][t]);this.setRollNodesStatus(A.ROLL_STATUS.SlowDown_Status)},s.onGameConclude=function(){},s.onSendRewardPool=function(e){this.updateRewardPool(e)},s.setRollNodesStatus=function(e){if(e==A.ROLL_STATUS.RollNormall_Status)for(var t=0;t<this.rollNodes.length;t++)this.rollNodes[t].getComponent(v).setRollStatus(e);else e==A.ROLL_STATUS.SlowDown_Status&&(this._rollNodeIndex=0,this.audioControl.playEffect("rollstop"),this.rollNodes[0].getComponent(v).setRollStatus(e))},s.onClickExit=function(){console.log("onClickExit")},s.initUserInfo=function(){var e=this,t=this.nodeUserInfo.getChildByName("lab_userName").getComponent(u);t&&(t.string=U.wSzNickName);var o=this.nodeUserInfo.getChildByName("spr_head");o&&g.load("avatar",x,(function(t,i){if(t)console.log(t);else{var n=i.getSpriteFrame("texture/avatar/avatar_min_"+U.wFaceID);if(n){o.getComponent(C).spriteFrame=n;var r=o.getComponent(y).contentSize.height,s=e.nodeUserInfo.getComponent(y).contentSize.height-30;o.setScale(s/r,s/r)}}})),this.updateUserScore()},s.rollFinishCallBack=function(){var e;(this.audioControl.playEffect("rollstop"),this._rollNodeIndex+=1,this._rollNodeIndex<5)?(console.log("rollFinishCallBack:SlowDown_Status:"+this._rollNodeIndex),null==(e=this.rollNodes[this._rollNodeIndex])||e.getComponent(v).setRollStatus(A.ROLL_STATUS.SlowDown_Status)):(console.log("rollFinishCallBack:requestStop"),this.requestStop(),this.showReward(),this._rollNodeIndex=0)},s.showReward=function(){for(var e=0,t=[],o=0;o<A.MAX_LINE_COUNT;o++)if(this._lineCount[o]&&this._lineCount[o]>0&&this.nodeLines[o]&&(e+=this._lineWinScore[o],this.nodeLines[o].active=!0,this._lineCount[o]>=3))if(1==this._itemType[o]){for(var n=0;n<A.ITEM_X_COUNT;n++)if(me[o][n]){var r=me[o][n].x,s=me[o][n].y;1==s?s=3:3==s&&(s=1),this._itemInfo[s-1][r-1]==this._itemType[o]&&t.push(me[o][n])}}else for(var l=0;l<this._lineCount[o];l++)me[o][l]&&t.push(me[o][l]);if(e>0||this._getFreeNum>0){for(var a=0;a<A.ITEM_X_COUNT;a++)this.rollNodes[a].getComponent(v).setShowState(!0);for(var u,c=i(t);!(u=c()).done;){var h,p=u.value;null==(h=this.rollNodes[p.x-1])||h.getComponent(v).setRewardItem(p.y)}}if(this.updateUserScore(),this.updateWinScore(),this.updateFreeNum(),this.updateFreeState(),console.log("显示奖励",this._poolRewardNum,e,U.wUserScore),this._poolRewardNum>0||e>0){var d=e/(this._cellScore*this._betScore[this._betIndex])>=20;d?this.audioControl.playEffect("bigreward"):this.audioControl.playEffect("normalreward"),this.rewardAniNode.getComponent(F).showRewardAni(this._poolRewardNum,e,d,this)}else this.rewardFinish(!1)},s.rewardFinish=function(e){var t=this;void 0===e&&(e=!0),this._isSpin=!1,this.updateButtonState(),this._isAuto&&(e?this.onClickStart():setTimeout((function(){t.onClickStart()}),2))},s.updateUserScore=function(){var e=this.nodeUserInfo.getChildByName("lab_userScore").getComponent(u);e&&(e.string=A.FormatScore(U.wUserScore))},s.updateWinScore=function(){this.labWinScore.string=A.FormatScore(this._winScore)},s.updateRewardPool=function(e){var t=this;if(this._poolNum<=0)this._poolNum=e,this.labRewardPool.string=A.FormatScore(this._poolNum);else{var o=(e-this._poolNum)/50,i=w(this.labRewardPool).delay(.05).call((function(){t._poolNum+=o,t.labRewardPool.string=A.FormatScore(t._poolNum)}));w(this.labRewardPool).repeat(50,i).start()}},s.updateFreeNum=function(){this.btnFreeSpin.getComponentInChildren(u).string=this._freeNum.toString()},s.updateFreeState=function(){this._getFreeNum>0?this.showGetFreeNum():(this.btnSpin.active=this._freeNum<=0,this.btnFreeSpin.active=this._freeNum>0)},s.updateButtonState=function(){console.log("刷新按钮状态刷新按钮状态刷新按钮状态刷新按钮状态"),this.btnAddBet.interactable=!this._isSpin&&this._freeNum<=0,this.btnDecBet.interactable=!this._isSpin&&this._freeNum<=0,this.nodeStartRod.getComponentInChildren(c).interactable=!this._isSpin&&!this._isAuto,this.btnSpin.getComponent(c).interactable=!this._isAuto,this.btnFreeSpin.getComponent(c).interactable=!this._isAuto},s.showGetFreeNum=function(){var e=this;this.nodeShowGetFreeNum&&!this.nodeShowGetFreeNum.active&&(this.nodeShowGetFreeNum.active=!0,this.nodeShowGetFreeNum.getComponentInChildren(u).string=this._getFreeNum.toString(),w(this.nodeShowGetFreeNum).delay(1).call((function(){e.nodeShowGetFreeNum.active=!1,e.btnSpin.active=e._freeNum<=0,e.btnFreeSpin.active=e._freeNum>0})).start())},s.onClickBet=function(e,t){"DecBet"===t?(this._betIndex-=1,this._betIndex<0&&(this._betIndex=this._maxBetIndex)):(this._betIndex+=1,this._betIndex>this._maxBetIndex&&(this._betIndex=0)),this.updateBetScore()},s.updateBetScore=function(){var e=this.getTotalBet();this.labBetScore.string=A.FormatScore(e)},s.getTotalBet=function(){var e=0;return console.log("getTotalBet",this._cellScore,this._betScore,this._betIndex),this._betScore[this._betIndex]&&(e=this._cellScore*A.MAX_LINE_COUNT*this._betScore[this._betIndex]),e},s.onClickStart=function(){var e;if(!this._isSpin){if(this._freeNum<=0){var t=this.getTotalBet();if(U.wUserScore<t)return console.log("金币不足,无法进行游戏"),void(this._isAuto&&(this._isAuto=!1,this.updateButtonState()));U.wUserScore-=t,console.log("onClickStart:",U.wUserScore,t),this.updateUserScore(),this._winScore=0,this.updateWinScore()}this._isSpin=!0,this.updateButtonState();for(var o=0;o<A.MAX_LINE_COUNT;o++)this.nodeLines[o].active=!1;this.audioControl.playEffect("start"),null==(e=this.nodeStartRod.getComponent(p))||e.play()}},s.requestStop=function(){this._freeNum>0?this._gameTableProxy.sendUserReady():(console.log("发送游戏结束"),this._gameProxy.requestGameConclude())},t}(I)).prototype,"rollNodes",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),$=t(Q.prototype,"nodeLines",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ee=t(Q.prototype,"nodeUserInfo",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=t(Q.prototype,"labWinScore",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=t(Q.prototype,"labRewardPool",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=t(Q.prototype,"btnSpin",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=t(Q.prototype,"btnFreeSpin",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=t(Q.prototype,"nodeShowGetFreeNum",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=t(Q.prototype,"btnAddBet",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=t(Q.prototype,"btnDecBet",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=t(Q.prototype,"labBetScore",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=t(Q.prototype,"nodeStartRod",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=t(Q.prototype,"rewardAniNode",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=t(Q.prototype,"helpView",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=t(Q.prototype,"setView",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=t(Q.prototype,"audioControl",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=Q))||K));s._RF.pop()}}}));

System.register("chunks:///_virtual/GameTableProtocol.ts",["cc","./Constants.ts"],(function(e){var n,a;return{setters:[function(e){n=e.cclegacy},function(e){a=e.Constants}],execute:function(){n._RF.push({},"e2237P6BrBH6p8AnXZ7WHSS","GameTableProtocol",void 0);var r=e("datatypes",{}),t=1001,i=2100;r.CMD_MB_LogonByPhoneNum={mainCmdID:i,subCmdID:8,argTypes:[{name:"dwPlazaVersion"},{name:"dwPlazaResVersion"},{name:"szChannel"},{name:"szPhoneNum"},{name:"szCode"},{name:"cbDeviceType"},{name:"szMachineID"},{name:"szSystemVersion"},{name:"szSystemLanguage"},{name:"szSystemModel"},{name:"szSystemBrand"}],write2bundle:function(e,n){e.writeUint32(n[0]),e.writeUint32(n[1]),e.writeString(n[2],a.LEN_ACCOUNTS),e.writeString(n[3],20),e.writeString(n[4],8),e.writeUint8(n[5]),e.writeString(n[6],64),e.writeString(n[7],20),e.writeString(n[8],20),e.writeString(n[9],64),e.writeString(n[10],64)},size:function(){return 529+2*a.LEN_ACCOUNTS}},r.CMD_MB_LogonVisitor={mainCmdID:i,subCmdID:5,argTypes:[{name:"dwPlazaVersion"},{name:"dwPlazaResVersion"},{name:"szChannel"},{name:"cbDeviceType"},{name:"szMachineID"},{name:"szSystemVersion"},{name:"szSystemLanguage"},{name:"szSystemModel"},{name:"szSystemBrand"}],write2bundle:function(e,n){e.writeUint32(n[0]),e.writeUint32(n[1]),e.writeString(n[2],a.LEN_ACCOUNTS),e.writeUint8(n[3]),e.writeString(n[4],64),e.writeString(n[5],20),e.writeString(n[6],20),e.writeString(n[7],64),e.writeString(n[8],64)},size:function(){return 473+2*a.LEN_ACCOUNTS}},r.CMD_MB_LogonSuccess={mainCmdID:i,subCmdID:100,argTypes:[{name:"wFaceID"},{name:"cbGender"},{name:"dwUserID"},{name:"dwGameID"},{name:"szAccounts"},{name:"szNickName"},{name:"szToken"},{name:"szUnderWrite"},{name:"szSession"},{name:"lUserScore"},{name:"lDiamond"},{name:"lLpValues"},{name:"lTicket"},{name:"dwLoginType"},{name:"dwVipLv"},{name:"dwVipPoint"},{name:"dwClubPoint"},{name:"lExperience"},{name:"dwCurExLevel"},{name:"dwNextExPoint"},{name:"lNextExScore"}],createFromStream:function(e,n){var r=e.readUint16(),t=e.readUint8(),i=e.readUint32(),m=e.readUint32(),d=e.readString(a.LEN_ACCOUNTS),o=e.readString(a.LEN_ACCOUNTS),s=e.readString(a.LEN_PASSWORD),U=e.readString(32),u=e.readString(a.LEN_PASSWORD),c=e.readUint64(),C=e.readUint64(),D=e.readUint64(),S=e.readUint64(),w=e.readUint32(),I=e.readUint32(),l=e.readUint32(),_=e.readUint32(),g=e.readUint64(),b=e.readUint32(),p=e.readUint64(),T=e.readUint32();n.push(r,t,i,m,d,o,s,U,u,c,C,D,S,w,I,l,_,g,b,p,T)}},r.CMD_MB_LogonFailure={mainCmdID:i,subCmdID:101,argTypes:[{name:"lResultCode"},{name:"szDescribeString"}],createFromStream:function(e,n){var a=e.readInt32(),r=e.readString(128);n.push(a,r)}},r.CMD_GR_LogonMobile={mainCmdID:t,subCmdID:2,argTypes:[{name:"wGameID"},{name:"dwProcessVersion"},{name:"cbDeviceType"},{name:"dwGroupID"},{name:"dwServerID"},{name:"dwUserID"},{name:"szToken"},{name:"szMachineID"},{name:"szAccount"}],write2bundle:function(e,n){e.writeUint16(n[0]),e.writeUint32(n[1]),e.writeUint8(n[2]),e.writeUint32(n[3]),e.writeUint32(n[4]),e.writeUint32(n[5]),e.writeString(n[6],a.LEN_TOKEN),e.writeString(n[7],a.LEN_MACHINE_ID),e.writeString(n[8],a.LEN_ACCOUNTS)},size:function(){return 19+2*(a.LEN_TOKEN+a.LEN_MACHINE_ID+a.LEN_ACCOUNTS)}},r.CMD_GR_LogonFinish={mainCmdID:t,subCmdID:102,argTypes:[{name:"dwUserID"},{name:"wKindID"},{name:"wServerID"}],createFromStream:function(e,n){var a=e.readUint32(),r=e.readUint16(),t=e.readUint16();n.push(a,r,t)}},r.CMD_GR_LogonSuccess={mainCmdID:t,subCmdID:100,argTypes:[{name:"dwUserID"},{name:"dwUserRight"},{name:"dwMasterRight"}],createFromStream:function(e,n){var a=e.readUint32(),r=e.readUint32(),t=e.readUint32();n.push(a,r,t)}},r.CMD_GR_LogonFailure={mainCmdID:t,subCmdID:101,argTypes:[{name:"lErrorCode"},{name:"wKindID"},{name:"wServerID"},{name:"szDescribeString"}],createFromStream:function(e,n){var r=e.readInt32(),t=e.readUint16(),i=e.readUint16(),m=e.readString(a.LEN_LOGONFAILURE);n.push(r,t,i,m)}};r.CMD_GR_ConfigServer={mainCmdID:1002,subCmdID:101,argTypes:[{name:"wTableCount"},{name:"wChairCount"},{name:"wServerType"},{name:"dwServerRule"}],createFromStream:function(e,n){var a=e.readUint16(),r=e.readUint16(),t=e.readUint16(),i=e.readUint32();n.push(a,r,t,i)}},r.CMD_GR_ConfigFinish={mainCmdID:1002,subCmdID:103,argTypes:[],createFromStream:function(e,n){}};var m=1003;r.CMD_GR_UserStandUp={mainCmdID:m,subCmdID:4,argTypes:[],write2bundle:function(e,n){e.writeUint16(n[0]),e.writeUint16(n[1]),e.writeUint8(n[2])},size:function(){return 5}},r.CMD_GR_UserEnter={mainCmdID:m,subCmdID:100,argTypes:[{name:"dwGameID"},{name:"dwUserID"},{name:"wFaceID"},{name:"cbGender"},{name:"wTableID"},{name:"wChairID"},{name:"cbUserStatus"},{name:"lScore"},{name:"lDiamond"},{name:"lExperience"},{name:"lLpValues"},{name:"lTicket"},{name:"dwVipLv"},{name:"dwVipPoint"},{name:"dwClubPoint"},{name:"dwCurExLevel"},{name:"dwNextExPoint"},{name:"dwIpAddress"},{name:"szNickName"},{name:"szSign"}],createFromStream:function(e,n){for(var a=e.readUint32(),r=e.readUint32(),t=e.readUint16(),i=e.readUint8(),m=e.readUint16(),d=e.readUint16(),o=e.readUint8(),s=e.readUint64(),U=e.readUint64(),u=e.readUint64(),c=e.readUint64(),C=e.readUint64(),D=e.readUint32(),S=e.readUint32(),w=e.readUint32(),I=e.readUint32(),l=e.readUint32(),_=e.readUint32(),g="",b="",p=0;p<2;p++){if(!(e.buffer.byteLength-e.rpos>0))break;var T=e.readUint16(),f=e.readUint16();if(10==f)""===(g=e.readString(T/2))&&(g="player");else if(12==f)""===(b=e.readString(T/2))&&(b="empty");else{if(0==f)break;for(var y=1;y<=T&&e.readUint8();y++);}}n.push(a,r,t,i,m,d,o,s,U,u,c,C,D,S,w,I,l,_,g,b)}},r.CMD_GR_UserScore={mainCmdID:m,subCmdID:101,argTypes:[{name:"dwUserID"},{name:"lScore"},{name:"lDiamond"},{name:"lLpValues"},{name:"lTicket"}],createFromStream:function(e,n){var a=e.readUint32(),r=e.readUint64(),t=e.readUint64(),i=e.readUint64(),m=e.readUint64();n.push(a,r,t,i,m)}},r.CMD_GR_UserStatus={mainCmdID:m,subCmdID:102,argTypes:[{name:"dwUserID"},{name:"wTableID"},{name:"wChairID"},{name:"cbUserStatus"}],createFromStream:function(e,n){var a=e.readUint32(),r=e.readUint16(),t=e.readUint16(),i=e.readUint8();n.push(a,r,t,i)}},r.CMD_GR_RequestFailure={mainCmdID:m,subCmdID:103,argTypes:[{name:"lErrorCode"},{name:"szDescribeString"}],createFromStream:function(e,n){var a=e.readUint32(),r=e.readString(256);n.push(a,r)}};var d=1100;r.CMD_GF_UserReady={mainCmdID:d,subCmdID:2,argTypes:[],write2bundle:function(e,n){},size:function(){return 0}},r.CMD_GF_NoticeReady={mainCmdID:d,subCmdID:502,argTypes:[],createFromStream:function(e,n){}},r.CMD_GF_GameOption={mainCmdID:d,subCmdID:1,argTypes:[{name:"cbAllowLookon"},{name:"dwFrameVersion"},{name:"dwClientVersion"}],write2bundle:function(e,n){e.writeUint8(n[0]),e.writeUint32(n[1]),e.writeUint32(n[2])},size:function(){return 9}},r.CMD_GF_GameStatus={mainCmdID:d,subCmdID:100,argTypes:[{name:"cbGameStatus"},{name:"cbAllowLookon"}],createFromStream:function(e,n){var a=e.readUint8(),r=e.readUint8();n.push(a,r)}},r.CMD_S_GameScene={mainCmdID:d,subCmdID:101,argTypes:[{name:"lCellScore"},{name:"cbBetCount"},{name:"dBetScore"},{name:"cbBetIndex"},{name:"dLotteryScore"},{name:"PoolNum"},{name:"cbLineCount"},{name:"dLineScore"},{name:"cbItemType"},{name:"cbItemLineCount"},{name:"cbItemInfo"},{name:"nGiveAwayCount"},{name:"nTotalGiveAwayCount"},{name:"cbFreeSpinState"},{name:"dUserTotalWinScore"},{name:"dTotalGameScore"},{name:"nPoolLineCount"},{name:"nPoolRewardScore"}],createFromStream:function(e,n){for(var r=e.readUint64(),t=e.readUint8(),i=[],m=0;m<a.MAX_BET_COUNT;m++)i[m]=e.readFloat();var d=e.readUint8(),o=e.readUint64(),s=e.readUint32(),U=0,u=[],c=[],C=[],D=[],S=0,w=0,I=0,l=0,_=0,g=0,b=0;if(e.buffer.byteLength-e.rpos>0){U=e.readUint8();for(var p=0;p<a.MAX_LINE_COUNT;p++)u[p]=e.readUint64();for(var T=0;T<a.MAX_LINE_COUNT;T++)c[T]=e.readUint8();for(var f=0;f<a.MAX_LINE_COUNT;f++)D[f]=e.readUint8();for(var y=0;y<a.ITEM_Y_COUNT;y++){C[y]=[];for(var N=0;N<a.ITEM_X_COUNT;N++)C[y][N]=e.readUint8()}S=e.readUint32(),w=e.readUint32(),I=e.readUint8(),l=e.readUint64(),_=e.readUint64(),g=e.readUint32(),b=e.readUint32()}n.push(r,t,i,d,o,s,U,u,c,D,C,S,w,I,l,_,g,b)}};r.CMD_GA_RespondError={mainCmdID:3003,subCmdID:1,argTypes:[{name:"cbShutDown"},{name:"szErrorCode"}],createFromStream:function(e,n){var a=e.readUint8(),r=e.readString(128);n.push(a,r)}},r.CMD_GA_RespondRoomClose={mainCmdID:3003,subCmdID:5,argTypes:[{name:"dwUserID"},{name:"dwServerID"},{name:"dwReason"},{name:"szErrorCode"}],createFromStream:function(e,n){var a=e.readUint32(),r=e.readUint32(),t=e.readUint32(),i=e.readString(128);n.push(a,r,t,i)}};r.CMD_GR_TableStatus={mainCmdID:1004,subCmdID:101,argTypes:[{name:"wTableID"},{name:"cbTableLock"},{name:"cbPlayStatus"},{name:"lCellScore"}],createFromStream:function(e,n){var a=e.readUint16(),r=e.readUint8(),t=e.readUint8(),i=e.readUint32();n.push(a,r,t,i)}},r.CMD_GR_TableInfo={mainCmdID:1004,subCmdID:100,argTypes:[],createFromStream:function(e,n){}};r.CMD_KN_DetectSocket={mainCmdID:0,subCmdID:1,size:function(){return 0},write2bundle:function(e,n){},createFromStream:function(e,n){}},n._RF.pop()}}}));

System.register("chunks:///_virtual/GameTableProxy.ts",["cc","./GameTableProtocol.ts","./Constants.ts","./GlobalData.ts"],(function(e){var o,n,t,s,r;return{setters:[function(e){o=e.cclegacy,n=e.director},function(e){t=e.datatypes},function(e){s=e.Constants},function(e){r=e.globalData}],execute:function(){o._RF.push({},"8f51cy+TmlNpbA+3ZsJBCLQ","GameTableProxy",void 0);var i=globalThis;e("gameTableProxy",i.puremvc.define({parent:i.puremvc.Proxy,constructor:function(){i.puremvc.Proxy.call(this,this.constructor.NAME)}},{onRegister:function(){},registerNetInterface:function(e){this.app=e;var o=e.net;this.net=o,this.bSendOption=!1,o.registerServer(this,"onSocketLogonSuccess",t.CMD_GR_LogonSuccess),o.registerServer(this,"onSocketLogonFinish",t.CMD_GR_LogonFinish),o.registerServer(this,"onSocketLogonFail",t.CMD_GR_LogonFailure),o.registerServer(this,"onSocketConfigEvent",t.CMD_GR_ConfigServer),o.registerServer(this,"onSocketUserEnter",t.CMD_GR_UserEnter),o.registerServer(this,"onSocketUserScore",t.CMD_GR_UserScore),o.registerServer(this,"onSocketUserStatus",t.CMD_GR_UserStatus),o.registerServer(this,"onEventGameScene",t.CMD_S_GameScene),o.registerServer(this,"detectSocket",t.CMD_KN_DetectSocket),o.registerServer(this,"onMBLogonSuccess",t.CMD_MB_LogonSuccess),o.registerServer(this,"onMBLogonFailure",t.CMD_MB_LogonFailure),o.registerServer(this,"onSocketRespondError",t.CMD_GA_RespondError),o.registerServer(this,"onSocketRespondRoomClose",t.CMD_GA_RespondRoomClose),o.registerServer(this,"onSocketConfigFinish",t.CMD_GR_ConfigFinish),o.registerServer(this,"onSocketGameStatus",t.CMD_GF_GameStatus),o.registerServer(this,"onSocketRequestFailure",t.CMD_GR_RequestFailure),o.registerServer(this,"onSocketNoticeReady",t.CMD_GF_NoticeReady),o.registerServer(this,"onSocketTableStatus",t.CMD_GR_TableStatus),o.registerServer(this,"onSocketTableInfo",t.CMD_GR_TableInfo),o.registerClient(this,"sendLogonRoomData",t.CMD_GR_LogonMobile),o.registerClient(this,"sendDetectSocket",t.CMD_KN_DetectSocket),o.registerClient(this,"sendPhoneNumLogin",t.CMD_MB_LogonByPhoneNum),o.registerClient(this,"sendUserStandUp",t.CMD_GR_UserStandUp),o.registerClient(this,"sendGameOption",t.CMD_GF_GameOption),o.registerClient(this,"sendUserReady",t.CMD_GF_UserReady)},onSocketLogonSuccess:function(e,o,n){r.setUserID(e)},onSocketLogonFinish:function(e,o,n){console.log("onSocketLogonFinish",e,o,n),r.wTableID!=s.INVALID_TABLE&&this.sendNotification(s.GMAENOTIFICATION_ID.GAME_ENTERGAMESCENE)},onSocketLogonFail:function(e,o,n,t){console.log("onSocketLogonFail",e,o,n,t)},onSocketConfigEvent:function(e){console.log("onSocketConfigEvent")},onSocketConfigFinish:function(e){console.log("onSocketConfigFinish")},onSocketUserEnter:function(e){console.log("onSocketUserEnter",e,r.wUserID);var o=!1;if(r.wUserID>0&&r.wUserID==e.dwUserID&&(o=!0),r.wRoomUserList[r.wUserID]){if(o)return void console.log("you already have your own information, do not process your own information again")}else if(!o)return void console.log("never have own information, do not process other user information");var n=!0,t=r.wRoomUserList[e.dwUserID];t&&(t.wTableID!=s.INVALID_TABLE&&(t.wTableID==e.wTableID&&t.wChairID==e.wChairID||r.onUpDataTableUser(t.wTableID,t.wChairID,null)),n=!1,t.cbUserStatus=e.cbUserStatus,t.wTableID=e.wTableID,t.wChairID=e.wChairID,t.szNickName=e.szNickName,t.lScore=e.lScore),n&&(r.wRoomUserList[e.dwUserID]=e),o&&(r.wTableID=e.wTableID,r.wChairID=e.wChairID,console.log("当前桌号："+r.wTableID+";椅子号："+r.wChairID),r.wUserScore=e.lScore,r.wFaceID=e.wFaceID,r.wSzNickName=e.szNickName),e.wTableID!=s.INVALID_TABLE&&e.cbUserStatus!=s.USER_STATUS.US_LOOKON&&r.onUpDataTableUser(e.wTableID,e.wChairID,e)},onSocketUserScore:function(e){console.log("onSocketUserScore",e);var o=r.wRoomUserList[e.dwUserID];o&&(o.lScore=e.lScore,o.lDiamond=e.lDiamond,o.lExperience=e.lExperience,o.lLpValues=e.lLpValues,o.lTicket=e.lTicket,o.dwUserID==r.wUserID&&(r.wUserScore=e.lScore))},onSocketUserStatus:function(e,o,n,t){if(console.log("onSocketUserStatus",e,o,n,t),t!=s.USER_STATUS.US_LOOKON&&r.wRoomUserList[r.wUserID]){var i=r.wRoomUserList[e];if(i){var c={cbUserStatus:i.cbUserStatus,wTableID:i.wTableID,wChairID:i.wChairID};i.cbUserStatus=t,i.wTableID=o,i.wChairID=n,c.wTableID!=s.INVALID_TABLE&&(c.wTableID==o&&c.wChairID==n||r.onUpDataTableUser(c.wTableID,c.wChairID,null)),r.onUpDataTableUser(o,n,i),r.wUserID==e?(r.wTableID=o,r.wChairID=n,t==s.USER_STATUS.US_NULL?this.sendExitTable():t==s.USER_STATUS.US_FREE&&c.cbUserStatus>s.USER_STATUS.US_FREE?r.wChangeDesk||this.sendExitTable():t>s.USER_STATUS.US_FREE&&c.cbUserStatus<s.USER_STATUS.US_SIT?(r.wChangeDesk&&(r.wChangeDesk=!1,this.bSendOption=!1),this.sendNotification(s.GMAENOTIFICATION_ID.GAME_ENTERGAMESCENE)):r.wChangeDesk):t!=s.USER_STATUS.US_NULL&&t!=s.USER_STATUS.US_FREE||(console.log("删除离开用户",e),delete r.wRoomUserList[e])}}},onSocketRequestFailure:function(e,o){console.log("onSocketRequestFailure",e,o),e>0&&o.length>0&&this.sendExitTable()},onEventGameScene:function(e){console.log("onEventGameScene",e),this.sendNotification(s.GMAENOTIFICATION_ID.GAME_GAMESCENE,e)},onMBLogonSuccess:function(e){console.log("onMBLogonSuccess"),console.log(e),r.wUserID=e.dwUserID,r.wSzToken=e.szToken,r.wSzAccounts=e.szAccounts},onMBLogonFailure:function(e,o){console.log("onMBLogonFailure"),console.log(e),console.log(o)},onSocketRespondError:function(e,o){console.log("onSocketRespondError",e,o)},onSocketRespondRoomClose:function(e,o,n,t){console.log("onSocketRespondRoomClose",e,o,n,t)},detectSocket:function(){console.log("detectSocket"),this.net.callServer("sendDetectSocket")},onSocketGameStatus:function(e,o){console.log("onSocketGameStatus",e,o),r.wGameStatus=e},onSocketNoticeReady:function(e){console.log("onSocketNoticeReady"),this.sendUserReady()},onSocketTableStatus:function(e,o,n,t){console.log("onSocketTableStatus")},onSocketTableInfo:function(e){console.log("onSocketTableInfo")},sendLogonRoomData:function(){var e=this.app;e.connect((function(){e.net.callServer("sendLogonRoomData",s.GAME_ID,2,1,2,s.SERVER_ID,r.wUserID,r.wSzToken,"abcdefghijklmn",r.wSzAccounts)}))},sendPhoneNumLogin:function(e){var o=this.app;o.connect((function(){o.net.callServer("sendPhoneNumLogin",1,1,"default",e,"1111",1,"","","","","")}))},sendExitTable:function(){var e=r.wRoomUserList[r.wUserID];if(!e)return"用户不存在";if(!(e.cbUserStatus>=s.USER_STATUS.US_FREE))return"还在游戏中";this.sendStandUpData(1);var o=n.getScene();return o&&"GameScene"==o.name&&n.loadScene("LoadScene"),"正在退出"},sendStandUpData:function(e){e=e?1:0,this.app.net.callServer("sendUserStandUp",r.wTableID,r.wChairID,e)},sendGameOption:function(){this.bSendOption?console.log("已发送过sendGameOption"):(this.bSendOption=!0,this.app.net.callServer("sendGameOption",0,101122049,2))},sendUserReady:function(){this.app.net.callServer("sendUserReady")}},{NAME:"GameTableProxy"}));o._RF.pop()}}}));

System.register("chunks:///_virtual/GlobalData.ts",["cc","./Constants.ts"],(function(t){var s,e;return{setters:[function(t){s=t.cclegacy},function(t){e=t.Constants}],execute:function(){s._RF.push({},"47de3QHr6FJdaH4vfMtr7LX","GlobalData",void 0);var n=function(){function t(){this.wUserID=0,this.wUserScore=0,this.wSzNickName="unknown",this.wSzToken="",this.wSzAccounts="",this.wFaceID=1,this.wTableID=e.INVALID_TABLE,this.wChairID=e.INVALID_CHAIR,this.wRoomUserList={},this.wTableUserList={},this.wChangeDesk=!1,this.wGameStatus=e.GAME_STATUS.GAME_SCENE_FREE,this.wMusicEnable=!0,this.wEffctEnable=!0}var s=t.prototype;return s.setUserAccountData=function(t,s){this.wSzToken=t,this.wSzAccounts=s},s.setUserID=function(t){this.wUserID=t},s.onUpDataTableUser=function(t,s,e){this.wTableUserList[t]||(this.wTableUserList[t]={}),e?this.wTableUserList[t][s]=e.dwUserID:delete this.wTableUserList[t][s]},t.getInstance=function(){return t._classInstance||(t._classInstance=new t),t._classInstance},t}();n._classInstance=null;t("globalData",n.getInstance());s._RF.pop()}}}));

System.register("chunks:///_virtual/HelpView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./GameFacade.ts"],(function(e){var t,n,i,a,r,o,s,c,u,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator,s=e.PageView,c=e.Component},function(e){u=e.Constants},function(e){p=e.GameFacadeInstance}],execute:function(){var l,d,f,h,g;r._RF.push({},"841a8AQZH5Gf65KodNGXhXt","HelpView",void 0);var I=o.ccclass,_=o.property;e("HelpView",(l=I("HelpView"),d=_(s),l((g=t((h=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,i(t,"ruleView",g,a(t)),t._pageIndex=0,t}n(t,e);var r=t.prototype;return r.start=function(){},r.update=function(e){},r.onChangeRuleView=function(e,t){"PAGE_LEFT"==t?(this._pageIndex-=1,this._pageIndex<0&&(this._pageIndex=3)):(this._pageIndex+=1,this._pageIndex>=4&&(this._pageIndex=0)),this.ruleView.setCurrentPageIndex(this._pageIndex)},r.onBtnClose=function(){p.sendNotification(u.GMAENOTIFICATION_ID.CLOSEPOPUPVIEW)},t}(c)).prototype,"ruleView",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=h))||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/LoadScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GlobalData.ts","./GameFacade.ts","./Constants.ts"],(function(e){var n,t,i,o,a,r,s,c,l,u,p,d,g,f,h,b,m,D;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,s=e.ProgressBar,c=e.Label,l=e.sys,u=e.view,p=e.ResolutionPolicy,d=e.find,g=e.Vec3,f=e.director,h=e.Component},function(e){b=e.globalData},function(e){m=e.GameFacadeInstance},function(e){D=e.Constants}],execute:function(){var S,v,y,G,I,L,_;a._RF.push({},"833batz2p1BHatplcCehcSX","LoadScene",void 0);var F=r.ccclass,T=r.property;e("LoadScene",(S=F("LoadScene"),v=T(s),y=T(c),S((L=n((I=function(e){function n(){for(var n,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return n=e.call.apply(e,[this].concat(a))||this,i(n,"gameProgress",L,o(n)),i(n,"labTip",_,o(n)),n._enterGameScene=!1,n}t(n,e);var a=n.prototype;return a.start=function(){m.registerMediator(this),this.parseUrlData(),m.sendNotification(D.GMAENOTIFICATION_ID.GAME_LOGIN)},a.onLoad=function(){l.isMobile&&(u.setDesignResolutionSize(750,1334,p.FIXED_WIDTH),d("Canvas/Camera").eulerAngles=new g(0,0,90))},a.update=function(e){},a.onDestroy=function(){m.removeMediator(this.name)},a.listNotificationInterests=function(){return[{evtType:D.GMAENOTIFICATION_ID.GAME_ENTERGAMESCENE,callback:this.loginFinish}]},a.loginFinish=function(){this._enterGameScene||(this._enterGameScene=!0,this.labTip.string="logon in success",f.preloadScene("GameScene",this.onLoadingProgress.bind(this),this.onLoadFinished.bind(this)))},a.onLoadingProgress=function(e,n,t){var i=e/n;this.gameProgress.progress=i,this.labTip.string="Resource Loading "+(100*i).toFixed(0)+"%"},a.onLoadFinished=function(e){e?console.log(e.message):f.loadScene("GameScene")},a.parseUrlData=function(){console.log("parseUrlData");var e="",n="",t=window.location.href.split("?")[1];t&&t.split("&").forEach((function(t){var i=t.split("=");"member_account"==i[0]?e=i[1]:"token"==i[0]&&(n=i[1])}));b.setUserAccountData(n,e)},n}(h)).prototype,"gameProgress",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=n(I.prototype,"labTip",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=I))||G));a._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./Constants.ts","./GameFacade.ts","./GlobalData.ts","./GameLoginCommand.ts","./GameProtocol.ts","./GameTableProtocol.ts","./GameProxy.ts","./GameTableProxy.ts","./AudioControl.ts","./FruitRollControl.ts","./GameScene.ts","./HelpView.ts","./LoadScene.ts","./RewardAniNode.ts","./SetView.ts","./debug-view-runtime-control.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/RewardAniNode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts"],(function(e){var n,i,o,t,r,a,l,s,d,c,h,w,p,u,f;return{setters:[function(e){n=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,t=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,l=e.Prefab,s=e.instantiate,d=e.Label,c=e.tween,h=e.Animation,w=e.find,p=e.Tween,u=e.Component},function(e){f=e.Constants}],execute:function(){var g,R,m,v,y,C,N,_,b;r._RF.push({},"d8f3f6r7adGGKCaLcn/RiDg","RewardAniNode",void 0);var S=a.ccclass,B=a.property;e("RewardAniNode",(g=S("RewardAniNode"),R=B(l),m=B(l),v=B(l),g((N=n((C=function(e){function n(){for(var n,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return n=e.call.apply(e,[this].concat(r))||this,o(n,"normalRewardNode",N,t(n)),o(n,"bigRewardNode",_,t(n)),o(n,"poolRewardNode",b,t(n)),n._poolReward=0,n._winScore=0,n._isBigReward=!1,n._gameScene=null,n}i(n,e);var r=n.prototype;return r.start=function(){},r.update=function(e){},r.showRewardAni=function(e,n,i,o){this.node.active||(this.node.active=!0,this._poolReward=e,this._winScore=n,this._isBigReward=i,this._gameScene=o,e>0?this.showPoolReward():i?this.showBigReward():this.showNormalReward())},r.showPoolReward=function(){var e=this,n=s(this.poolRewardNode);if(n){this.node.addChild(n);var i=n.getChildByName("sprPool").getComponentInChildren(d);if(i){var o=0,t=this._poolReward/20,r=c(i).delay(.05).call((function(){o+=t,i.string=f.FormatScore(o)}));c(i).repeat(20,r).start()}var a=n.getComponent(h);a&&(a.on(h.EventType.FINISHED,(function(){e._isBigReward?e.showBigReward():e._winScore>0?e.showNormalReward():e.aniFinshCallBack()})),a.play())}},r.showBigReward=function(){var e=s(this.bigRewardNode);if(e){this.node.addChild(e);var n=e.getChildByName("sprBigWin").getComponentInChildren(d);if(n){var i=0,o=this._winScore/10,t=c(n).delay(.05).call((function(){i+=o,n.string=f.FormatScore(i)}));c(n).repeat(10,t).start()}var r=e.getComponent(h);r&&(r.on(h.EventType.FINISHED,this.aniFinshCallBack,this),r.play())}},r.showNormalReward=function(){var e=s(this.normalRewardNode);if(e){var n;this.node.addChild(e);var i=null==(n=w("aniNode/labScore",e))?void 0:n.getComponent(d);i&&(i.string=f.FormatScore(this._winScore));var o=e.getComponent(h);o&&(o.on(h.EventType.FINISHED,this.aniFinshCallBack,this),o.play())}},r.aniFinshCallBack=function(){this.node.active=!1,this.node.destroyAllChildren(),this._gameScene.rewardFinish()},r.onDisable=function(){p.stopAll()},n}(u)).prototype,"normalRewardNode",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=n(C.prototype,"bigRewardNode",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=n(C.prototype,"poolRewardNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=C))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/SetView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameFacade.ts","./Constants.ts","./GlobalData.ts"],(function(t){var n,e,i,a,r,o,s,c,u,l,b,f;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){r=t.cclegacy,o=t._decorator,s=t.Button,c=t.SpriteFrame,u=t.Component},function(t){l=t.GameFacadeInstance},function(t){b=t.Constants},function(t){f=t.globalData}],execute:function(){var h,p,m,E,_,S,d,g,C;r._RF.push({},"de953M0NxNNwLtsLA1LAIqq","SetView",void 0);var F=o.ccclass,I=o.property;t("SetView",(h=F("SetView"),p=I(s),m=I(s),E=I(c),h((d=n((S=function(t){function n(){for(var n,e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return n=t.call.apply(t,[this].concat(r))||this,i(n,"btnMusic",d,a(n)),i(n,"btnSound",g,a(n)),i(n,"btnChangeFrame",C,a(n)),n._musicEnable=!0,n._effectEnable=!0,n}e(n,t);var r=n.prototype;return r.start=function(){this.initBtnState()},r.update=function(t){},r.onBtnMusic=function(){this._musicEnable=!this._musicEnable;var t=this._musicEnable?0:1;this.btnMusic.normalSprite=this.btnChangeFrame[t]},r.onBtnSound=function(){this._effectEnable=!this._effectEnable;var t=this._effectEnable?0:1;this.btnSound.normalSprite=this.btnChangeFrame[t]},r.initBtnState=function(){this._musicEnable=f.wMusicEnable,this._effectEnable=f.wEffctEnable;var t=1==this._musicEnable?0:1;this.btnMusic.normalSprite=this.btnChangeFrame[t],t=1==this._effectEnable?0:1,this.btnSound.normalSprite=this.btnChangeFrame[t]},r.onClose=function(){l.sendNotification(b.GMAENOTIFICATION_ID.SETAUDIOENABLE,this._musicEnable,this._effectEnable),l.sendNotification(b.GMAENOTIFICATION_ID.CLOSEPOPUPVIEW)},n}(u)).prototype,"btnMusic",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=n(S.prototype,"btnSound",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=n(S.prototype,"btnChangeFrame",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=S))||_));r._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});